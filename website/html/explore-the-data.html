{{ define "content" }}

<p>
    You can use this page to manually download subway data for specific days.
    There are instructions for <a href="/programmatic-access">programmatically downloading data in bulk</a>.
</p>

<h3>Index</h3>
{{range $i, $y := .Years }}
    {{ if not (eq $i 0) }}
    </ul>
    {{ end }}
    <h4>{{  $y.Title }}</h4>
    <ul class="links">
    {{range $m := $y.Months }}
        <li><a href="#{{ $m.Name }}{{ $y.Title }}">{{  $m.Name }}</a></li>
    {{ end }}
{{ end }}
    </ul>


<h3>Data</h3>
{{range $i, $y := .Years }}
    {{range $j, $m := $y.Months }}
        {{ if not (and (eq $i 0) (eq $j 0)) }}
    </table>
        {{ end }}
    <a name="{{ $m.Name }}{{ $y.Title }}"></a>
    <h4>{{ $m.Title }}</h4>
    <table>
        <tr>
            <th>Date</th>
            <th colspan="2">Downloads</th>
            <th>Last updated</th>
        </tr>
        {{range $d := $m.Days }}
        <tr>
            <td>{{ $d.Title }}</td>
            <td><a href="{{ $d.CsvUrl }}">csv ({{ $d.CsvSize }})</a></td>
            <td><a href="{{ $d.GtfsrtUrl }}">gtfsrt ({{ $d.GtfsrtSize }})</a></td>
            <td><span class="small">{{ $d.Updated }}</span></td>
        </tr>
        {{end}}
    {{ end }}
{{ end }}
    </table>

{{ end }}